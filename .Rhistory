"#F5BE5E")
RAMPworseGRADpalette <- c("#78D9C5",
"#FFEED1",
"#F5BE5E",
"#FFB1B5")
GLADpalette = c("#efc00b",
"#b7dee8")
palette = COPINGpalette2
#source data directory: data_path
source("../PANCHANGE_raw_path.R")
dat.raw <- readRDS(file = paste0(data_path, "/four_cohorts.rds"))
dim(dat.raw)
colnames(dat.raw)
dat.raw %>%
freq(
data_group_gad,
cumul = F)
dat.raw %>%
freq(
data_group_phq,
cumul = F)
dat.raw %>%
freq(
data_group_pcl,
cumul = F)
dat.raw %>%
freq(
data_group_ocir,
cumul = F)
dat.raw %>%
freq(Sample)
dat.raw <- dat.raw %>%
mutate(covid_test_positive_double_numeric =
case_when(
(respiratory.throat_swab_test_nose_numeric == 1 &
respiratory.results_antibody_test_numeric == 1) ~ 2,
respiratory.throat_swab_test_nose_numeric == 1 ~ 1,
respiratory.throat_swab_test_nose_numeric == 2 ~ 0,
respiratory.results_antibody_test_numeric == 1 ~ 1,
respiratory.results_antibody_test_numeric == 2 ~ 0
)
)
dat.raw <- dat.raw %>%
mutate(covid_test_positive_double =
recode_factor(
covid_test_positive_double_numeric,
`0` = "Negative",
`1` = "Positive",
`2` = "Double positive"
)
)
dat.raw %>%
freq(covid_test_positive_double)
dat.raw <- dat.raw %>%
mutate(gad.covid_test_positive_numeric =
case_when(
(respiratory.throat_swab_test_nose_numeric == 1 &
respiratory.results_antibody_test_numeric == 1) ~ 1, # with two positive test results get coded as positive
respiratory.throat_swab_test_nose_numeric == 1 ~ 1,
respiratory.throat_swab_test_nose_numeric == 2 ~ 0,
respiratory.results_antibody_test_numeric == 1 ~ 1,
respiratory.results_antibody_test_numeric == 2 ~ 0
)
)
dat.raw <- dat.raw %>%
mutate(covid_test_positive =
recode_factor(
gad.covid_test_positive_numeric,
`0` = "Negative",
`1` = "Positive"
#             `2` = "Double positive"
)
)
dat.raw %>%
freq(covid_test_positive)
dat.raw %>%
count(respiratory.throat_swab_test_nose, Sample) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
count(respiratory.results_antibody_test, Sample) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
count(covid_probable_case_incl_screening, Sample) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
count(covid_test_positive, covid_probable_case_incl_screening) %>%
spread(key = covid_test_positive, value = n)
colnames(dat.raw)
dat.raw %>%
group_by(covid_test_positive) %>%
select(
starts_with("alsfrs")
) %>%
count(all_of(starts_with("alsfrs")))
dat.raw %>%
group_by(covid_test_positive) %>%
select(
starts_with("alsfrs")
)
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
group_by(covid_test_positive) %>%
select(
starts_with("alsfrs")
) %>%
count()
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
group_by(covid_test_positive) %>%
select(
starts_with("alsfrs")
) %>%
count()
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
group_by(covid_test_positive) %>%
select(
starts_with("alsfrs")
) %>%
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
group_by(covid_test_positive) %>%
select(
starts_with("alsfrs")
) %>%
colnames()
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
group_by(covid_test_positive) %>%
select(
starts_with("alsfrs")
) %>%
colnames()
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
group_by(covid_test_positive) %>%
select(
starts_with("alsfrs")
) %>%
count(
alsfrs.limb_weakness_noticed_past,
alsfrs.normal,
alsfrs.slow_or_sloppy_all_words_are_legible,
alsfrs.not_all_words_are_legible,
alsfrs.able_to_grip_pen,
alsfrs.unable_to_grip_pen,
alsfrs.have_you_noticed_any_difficulty_walking,
alsfrs.do_you_have_any_difficulty_climbing_stairs
)
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
group_by(covid_test_positive) %>%
select(
starts_with("alsfrs")
) %>%
count(
alsfrs.limb_weakness_noticed_past
)
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
select(
starts_with("alsfrs")
) %>%
count(covid_test_positive ,alsfrs.limb_weakness_noticed_past) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
count(covid_test_positive, alsfrs.limb_weakness_noticed_past) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
count(covid_test_positive, alsfrs.normal) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
count(covid_test_positive, alsfrs.slow_or_sloppy_all_words_are_legible) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
count(covid_test_positive, alsfrs.have_you_noticed_any_difficulty_walking) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
count(covid_test_positive, alsfrs.do_you_have_any_difficulty_climbing_stairs) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
group_by(covid_test_positive) %>%
count(covid_test_positive, alsfrs.do_you_have_any_difficulty_climbing_stairs) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
filter(!is.na(alsfrs.do_you_have_any_difficulty_climbing_stairs)) %>%
group_by(covid_test_positive) %>%
count(covid_test_positive, alsfrs.do_you_have_any_difficulty_climbing_stairs) %>%
mutate(Prop = round(n/sum(n), 2))
knitr::opts_chunk$set(echo = FALSE,
comment=NA,
prompt=FALSE,
cache=FALSE)
options(bitmapType = 'quartz') # to render fonts better
remove(list = ls())
date = Sys.Date()
#install.packages("summarytools")
#install.packages("tidyverse")
#install.packages("psych")
#install.packages("broom")
#install.packages("skimr")
#install.packages("polycor")
#install.packages("corrplot")
#install.packages("patchwork")
#instlal.packages("ggpubr")
library(knitr)
library(summarytools)
library(psych)
library(polycor)
library(corrplot)
library(patchwork)
library(broom)
library(tidyverse)
library(ggpubr)
COPINGpalette2 <- c("#78D9C5",
"#F5BE5E")
COPINGpalette3 <- c("#78D9C5",
"#F5BE5E",
"#EEB6E9")
COPINGpalette4 <- c("#78D9C5",
"#F5BE5E",
"#EEB6E9",
"#DBDB73")
COPINGpalette5 <- c("#78D9C5",
"#F5BE5E",
"#EEB6E9",
"#DBDB73",
"#FFED98")
COPINGpalette6 <- c("#78D9C5",
"#F5BE5E",
"#EEB6E9",
"#DBDB73",
"#FFED98",
"#BFD2EB")
COPINGpalette7 <- c("#78D9C5",
"#F5BE5E",
"#EEB6E9",
"#DBDB73",
"#FFED98",
"#BFD2EB",
"#808080")
COPINGpaletteGRAD <- c("#F5BE5E",
"#FFD284",
"#FFEED1",
"#B5B5B5",
"#DEFFF8",
"#94F6E1",
"#78D9C5")
COPINGNeuCenterpalette <- c("#78D9C5",
"#808080",
"#F5BE5E")
RAMPworseGRADpalette <- c("#78D9C5",
"#FFEED1",
"#F5BE5E",
"#FFB1B5")
GLADpalette = c("#efc00b",
"#b7dee8")
palette = COPINGpalette2
#source data directory: data_path
source("../PANCHANGE_raw_path.R")
dat.raw <- readRDS(file = paste0(data_path, "/four_cohorts.rds"))
dim(dat.raw)
colnames(dat.raw)
dat.raw %>%
freq(
data_group_gad,
cumul = F)
dat.raw %>%
freq(
data_group_phq,
cumul = F)
dat.raw %>%
freq(
data_group_pcl,
cumul = F)
dat.raw %>%
freq(
data_group_ocir,
cumul = F)
dat.raw %>%
freq(Sample)
dat.raw <- dat.raw %>%
mutate(covid_test_positive_double_numeric =
case_when(
(respiratory.throat_swab_test_nose_numeric == 1 &
respiratory.results_antibody_test_numeric == 1) ~ 2,
respiratory.throat_swab_test_nose_numeric == 1 ~ 1,
respiratory.throat_swab_test_nose_numeric == 2 ~ 0,
respiratory.results_antibody_test_numeric == 1 ~ 1,
respiratory.results_antibody_test_numeric == 2 ~ 0
)
)
dat.raw <- dat.raw %>%
mutate(covid_test_positive_double =
recode_factor(
covid_test_positive_double_numeric,
`0` = "Negative",
`1` = "Positive",
`2` = "Double positive"
)
)
dat.raw %>%
freq(covid_test_positive_double)
dat.raw <- dat.raw %>%
mutate(gad.covid_test_positive_numeric =
case_when(
(respiratory.throat_swab_test_nose_numeric == 1 &
respiratory.results_antibody_test_numeric == 1) ~ 1, # with two positive test results get coded as positive
respiratory.throat_swab_test_nose_numeric == 1 ~ 1,
respiratory.throat_swab_test_nose_numeric == 2 ~ 0,
respiratory.results_antibody_test_numeric == 1 ~ 1,
respiratory.results_antibody_test_numeric == 2 ~ 0
)
)
dat.raw <- dat.raw %>%
mutate(covid_test_positive =
recode_factor(
gad.covid_test_positive_numeric,
`0` = "Negative",
`1` = "Positive"
#             `2` = "Double positive"
)
)
dat.raw %>%
freq(covid_test_positive)
dat.raw %>%
count(respiratory.throat_swab_test_nose, Sample) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
count(respiratory.results_antibody_test, Sample) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
count(covid_probable_case_incl_screening, Sample) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
count(covid_test_positive, covid_probable_case_incl_screening) %>%
spread(key = covid_test_positive, value = n)
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
filter(!is.na(alsfrs.limb_weakness_noticed_past)) %>%
count(covid_test_positive, alsfrs.limb_weakness_noticed_past) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
filter(!is.na(alsfrs.normal)) %>%
group_by(covid_test_positive) %>%
count(covid_test_positive, alsfrs.normal) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
filter(!is.na(alsfrs.slow_or_sloppy_all_words_are_legible)) %>%
group_by(covid_test_positive) %>%
count(covid_test_positive, alsfrs.slow_or_sloppy_all_words_are_legible) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
filter(!is.na(alsfrs.have_you_noticed_any_difficulty_walking)) %>%
group_by(covid_test_positive) %>%
count(covid_test_positive, alsfrs.have_you_noticed_any_difficulty_walking) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
filter(!is.na(alsfrs.do_you_have_any_difficulty_climbing_stairs)) %>%
group_by(covid_test_positive) %>%
count(covid_test_positive, alsfrs.do_you_have_any_difficulty_climbing_stairs) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
filter(!is.na(alsfrs.unable_to_grip_pen)) %>%
group_by(covid_test_positive) %>%
count(covid_test_positive, alsfrs.unable_to_grip_pen) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
filter(!is.na(alsfrs.able_to_grip_pen)) %>%
group_by(covid_test_positive) %>%
count(covid_test_positive, alsfrs.able_to_grip_pen) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
filter(!is.na(alsfrs.not_all_words_are_legible)) %>%
group_by(covid_test_positive) %>%
count(covid_test_positive, alsfrs.not_all_words_are_legible) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
group_by(covid_test_positive) %>%
select(
starts_with("alsfrs")
) %>%
colnames()
colnames(dat.raw)
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
group_by(covid_test_positive) %>%
select(
starts_with("ess")
) %>%
colnames()
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
filter(!is.na(ess.felt_excessively_sleepy_past)) %>%
group_by(covid_test_positive) %>%
count(covid_test_positive, ess.felt_excessively_sleepy_past) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
filter(!is.na(ess.sitting_and_reading)) %>%
group_by(covid_test_positive) %>%
count(covid_test_positive, ess.sitting_and_reading) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
filter(!is.na(ess.other)) %>%
group_by(covid_test_positive) %>%
count(covid_test_positive, ess.other) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
group_by(covid_test_positive) %>%
select(
starts_with("ess")
-ends_with("numeric")
) %>%
colnames()
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
group_by(covid_test_positive) %>%
select(
starts_with("ess"),
-ends_with("numeric")
) %>%
colnames()
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
filter(!is.na(ess.none)) %>%
group_by(covid_test_positive) %>%
count(covid_test_positive, ess.none) %>%
mutate(Prop = round(n/sum(n), 2))
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
group_by(covid_test_positive) %>%
select(
starts_with("midas"),
-ends_with("numeric")
) %>%
colnames()
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
group_by(covid_test_positive) %>%
select(
starts_with("nmss"),
-ends_with("numeric")
) %>%
colnames()
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
group_by(covid_test_positive) %>%
select(
starts_with("nmsw"),
-ends_with("numeric")
) %>%
colnames()
dat.raw %>%
filter(!is.na(startDate.coping)) %>%
filter(!is.na(covid_test_positive)) %>%
group_by(covid_test_positive) %>%
select(
starts_with("tinnitus"),
-ends_with("numeric")
) %>%
colnames()
