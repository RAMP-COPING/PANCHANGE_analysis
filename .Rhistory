fun.ymax = function(x) mean(x) + sd(x),
geom = "pointrange",
position = position_dodge(width = .25)) +
labs(
x = "GAD7 scores",
y = "Percentage of participants",
fill = "Time point") +
theme_personal +
scale_fill_manual(
values = COPINGpalette3,
breaks = c("prepan", "retro", "base"),
labels = c("base" = "Baseline", "prepan" = "Prepandemic", "retro" = "Retrospective")
)
violin.gad.sum.prepan.retro <- dat.long.gad.sum %>%
filter(Time_point != "base") %>%
ggplot(mapping = aes(
x = Full_cohort,
y = gad.sum_score,
fill = Time_point)) +
geom_hline(yintercept = 5, linetype = "dashed", color = "gray") +
geom_hline(yintercept = 10, linetype = "dashed", color = "gray") +
geom_hline(yintercept = 15, linetype = "dashed", color = "gray") +
geom_split_violin(
trim = FALSE,
alpha = 0.5
) +
stat_summary(fun.y = mean,
fun.ymin = function(x) mean(x) - sd(x),
fun.ymax = function(x) mean(x) + sd(x),
geom = "pointrange",
position = position_dodge(width = .25)) +
labs(
x = "GAD7 scores",
y = "Percentage of participants",
fill = "Time point") +
theme_personal +
scale_fill_manual(
values = COPINGpalette3,
breaks = c("prepan", "retro", "base"),
labels = c("base" = "Baseline", "prepan" = "Prepandemic", "retro" = "Retrospective")
)
violin.gad.sum.prepan.retro
violin.gad.sum.prepan.base <- dat.long.gad.sum %>%
filter(Time_point != "retro") %>%
ggplot(mapping = aes(
x = Full_cohort,
y = gad.sum_score,
fill = Time_point)) +
geom_hline(yintercept = 5, linetype = "dashed", color = "gray") +
geom_hline(yintercept = 10, linetype = "dashed", color = "gray") +
geom_hline(yintercept = 15, linetype = "dashed", color = "gray") +
geom_split_violin(
trim = FALSE,
alpha = 0.5
) +
stat_summary(fun.y = mean,
fun.ymin = function(x) mean(x) - sd(x),
fun.ymax = function(x) mean(x) + sd(x),
geom = "pointrange",
position = position_dodge(width = .25)) +
labs(
x = "GAD7 scores",
y = "Percentage of participants",
fill = "Time point") +
theme_personal +
scale_fill_manual(
values = COPINGpalette3,
breaks = c("prepan", "retro", "base"),
labels = c("base" = "Baseline", "prepan" = "Prepandemic", "retro" = "Retrospective")
)
violin.gad.sum.prepan.base
violin.gad.sum.retro.base <- dat.long.gad.sum %>%
filter(Time_point != "prepan") %>%
ggplot(mapping = aes(
x = Full_cohort,
y = gad.sum_score,
fill = Time_point)) +
geom_hline(yintercept = 5, linetype = "dashed", color = "gray") +
geom_hline(yintercept = 10, linetype = "dashed", color = "gray") +
geom_hline(yintercept = 15, linetype = "dashed", color = "gray") +
geom_split_violin(
trim = FALSE,
alpha = 0.5
) +
stat_summary(fun.y = mean,
fun.ymin = function(x) mean(x) - sd(x),
fun.ymax = function(x) mean(x) + sd(x),
geom = "pointrange",
position = position_dodge(width = .25)) +
labs(
x = "GAD7 scores",
y = "Percentage of participants",
fill = "Time point") +
theme_personal +
scale_fill_manual(
values = COPINGpalette3,
breaks = c("prepan", "retro", "base"),
labels = c("base" = "Baseline", "prepan" = "Prepandemic", "retro" = "Retrospective")
)
violin.gad.sum.retro.base
violin.gad.sum.prepan.retro +
violin.gad.sum.prepan.base +
violin.gad.sum.retro.base +
plot_layout(guides = "collect", widths = c(1,1,1)) +
plot_annotation(tag_levels = "A")
dat.long.gad.sum %>%
filter(Time_point != "base") %>%
ggplot(mapping = aes(
x = Disorder_hierarchical,
y = gad.sum_score,
fill = Time_point)) +
geom_split_violin(
#    color = textcolor,
trim = FALSE,
alpha = 0.5
) +
labs(
x = "GAD7 scores",
y = "Percentage of participants",
fill = "Time point") +
theme_personal +
scale_fill_manual(
values = COPINGpalette3,
breaks = c("prepan", "retro", "base"),
labels = c("base" = "Baseline", "prepan" = "Prepandemic", "retro" = "Retrospective")
)
dat.long.gad.sum %>%
filter(Time_point != "retro") %>%
ggplot(mapping = aes(
x = Disorder_hierarchical,
y = gad.sum_score,
fill = Time_point)) +
geom_split_violin(
#    color = textcolor,
trim = FALSE,
alpha = 0.5
) +
labs(
x = "GAD7 scores",
y = "Percentage of participants",
fill = "Time point") +
theme_personal +
scale_fill_manual(
values = COPINGpalette3,
breaks = c("prepan", "retro", "base"),
labels = c("base" = "Baseline", "prepan" = "Prepandemic", "retro" = "Retrospective")
)
dat.long.gad.sum %>%
filter(Time_point != "prepan") %>%
ggplot(mapping = aes(
x = Disorder_hierarchical,
y = gad.sum_score,
fill = Time_point)) +
geom_split_violin(
#    color = textcolor,
trim = FALSE,
alpha = 0.5
) +
labs(
x = "GAD7 scores",
y = "Percentage of participants",
fill = "Time point") +
theme_personal +
scale_fill_manual(
values = COPINGpalette3,
breaks = c("prepan", "retro", "base"),
labels = c("base" = "Baseline", "prepan" = "Prepandemic", "retro" = "Retrospective")
)
dat.long.gad.sum %>%
filter(Sample == "GLAD") %>%
filter(Time_point != "base") %>%
ggplot(mapping = aes(
x = Disorder_hierarchical,
y = gad.sum_score,
fill = Time_point)) +
geom_split_violin(
#    color = textcolor,
trim = FALSE,
alpha = 0.5
) +
labs(
x = "GAD7 scores",
y = "Percentage of participants",
fill = "Time point") +
theme_personal +
scale_fill_manual(
values = COPINGpalette3,
breaks = c("prepan", "retro", "base"),
labels = c("base" = "Baseline", "prepan" = "Prepandemic", "retro" = "Retrospective")
)
dat.long.gad.sum %>%
filter(Sample == "GLAD") %>%
filter(Time_point != "base") %>%
ggplot(mapping = aes(
x = Disorder_hierarchical,
y = gad.sum_score,
fill = Time_point)) +
geom_split_violin(
#    color = textcolor,
trim = FALSE,
alpha = 0.5
) +
labs(
x = "GAD7 scores",
y = "Percentage of participants",
fill = "Time point") +
theme_personal +
scale_fill_manual(
values = COPINGpalette3,
breaks = c("prepan", "retro", "base"),
labels = c("base" = "Baseline", "prepan" = "Prepandemic", "retro" = "Retrospective")
) +
coord_flip()
dat.long.gad.sum %>%
filter(Time_point != "prepan") %>%
ggplot(mapping = aes(
x = Disorder_hierarchical,
y = gad.sum_score,
fill = Time_point)) +
geom_split_violin(
#    color = textcolor,
trim = FALSE,
alpha = 0.5
) +
labs(
x = "GAD7 scores",
y = "Percentage of participants",
fill = "Time point") +
theme_personal +
scale_fill_manual(
values = COPINGpalette3,
breaks = c("prepan", "retro", "base"),
labels = c("base" = "Baseline", "prepan" = "Prepandemic", "retro" = "Retrospective")
)+
coord_flip()
dat.long.gad.sum %>%
filter(Time_point != "retro") %>%
ggplot(mapping = aes(
x = Disorder_hierarchical,
y = gad.sum_score,
fill = Time_point)) +
geom_split_violin(
#    color = textcolor,
trim = FALSE,
alpha = 0.5
) +
labs(
x = "GAD7 scores",
y = "Percentage of participants",
fill = "Time point") +
theme_personal +
scale_fill_manual(
values = COPINGpalette3,
breaks = c("prepan", "retro", "base"),
labels = c("base" = "Baseline", "prepan" = "Prepandemic", "retro" = "Retrospective")
)+
coord_flip()
dat.long.gad.sum %>%
filter(Time_point != "base") %>%
ggplot(mapping = aes(
x = Disorder_hierarchical,
y = gad.sum_score,
fill = Time_point)) +
geom_split_violin(
#    color = textcolor,
trim = FALSE,
alpha = 0.5
) +
labs(
x = "GAD7 scores",
y = "Percentage of participants",
fill = "Time point") +
theme_personal +
scale_fill_manual(
values = COPINGpalette3,
breaks = c("prepan", "retro", "base"),
labels = c("base" = "Baseline", "prepan" = "Prepandemic", "retro" = "Retrospective")
)+
coord_flip()
dat.long.gad.sum %>%
filter(Time_point != "base") %>%
ggplot(mapping = aes(
x = Sample,
y = gad.sum_score,
fill = Time_point)) +
geom_split_violin(
#    color = textcolor,
trim = FALSE,
alpha = 0.5
) +
labs(
x = "GAD7 scores",
y = "Percentage of participants",
fill = "Time point") +
theme_personal +
scale_fill_manual(
values = COPINGpalette3,
breaks = c("prepan", "retro", "base"),
labels = c("base" = "Baseline", "prepan" = "Prepandemic", "retro" = "Retrospective")
)+
coord_flip()
violin.gad.sum.prepan.retro <- dat.long.gad.sum %>%
filter(Time_point != "base") %>%
ggplot(mapping = aes(
x = Full_cohort,
y = gad.sum_score,
fill = Time_point)) +
geom_hline(yintercept = 5, linetype = "dashed", color = "gray") +
geom_hline(yintercept = 10, linetype = "dashed", color = "gray") +
geom_hline(yintercept = 15, linetype = "dashed", color = "gray") +
geom_split_violin(
trim = FALSE,
alpha = 0.5
) +
stat_summary(fun.y = mean,
fun.ymin = function(x) mean(x) - sd(x),
fun.ymax = function(x) mean(x) + sd(x),
geom = "pointrange",
position = position_dodge(width = .25)) +
labs(
#    x = "GAD7 scores",
y = "Percentage of participants",
fill = "Time point") +
theme_personal +
scale_fill_manual(
values = COPINGpalette3,
breaks = c("prepan", "retro", "base"),
labels = c("base" = "Baseline", "prepan" = "Prepandemic", "retro" = "Retrospective")
)
violin.gad.sum.prepan.retro
violin.gad.sum.prepan.base <- dat.long.gad.sum %>%
filter(Time_point != "retro") %>%
ggplot(mapping = aes(
x = Full_cohort,
y = gad.sum_score,
fill = Time_point)) +
geom_hline(yintercept = 5, linetype = "dashed", color = "gray") +
geom_hline(yintercept = 10, linetype = "dashed", color = "gray") +
geom_hline(yintercept = 15, linetype = "dashed", color = "gray") +
geom_split_violin(
trim = FALSE,
alpha = 0.5
) +
stat_summary(fun.y = mean,
fun.ymin = function(x) mean(x) - sd(x),
fun.ymax = function(x) mean(x) + sd(x),
geom = "pointrange",
position = position_dodge(width = .25)) +
labs(
x = "GAD7 scores",
y = "Percentage of participants",
fill = "Time point") +
theme_personal +
scale_fill_manual(
values = COPINGpalette3,
breaks = c("prepan", "retro", "base"),
labels = c("base" = "Baseline", "prepan" = "Prepandemic", "retro" = "Retrospective")
)
violin.gad.sum.prepan.base
violin.gad.sum.retro.base <- dat.long.gad.sum %>%
filter(Time_point != "prepan") %>%
ggplot(mapping = aes(
x = Full_cohort,
y = gad.sum_score,
fill = Time_point)) +
geom_hline(yintercept = 5, linetype = "dashed", color = "gray") +
geom_hline(yintercept = 10, linetype = "dashed", color = "gray") +
geom_hline(yintercept = 15, linetype = "dashed", color = "gray") +
geom_split_violin(
trim = FALSE,
alpha = 0.5
) +
stat_summary(fun.y = mean,
fun.ymin = function(x) mean(x) - sd(x),
fun.ymax = function(x) mean(x) + sd(x),
geom = "pointrange",
position = position_dodge(width = .25)) +
labs(
#    x = "GAD7 scores",
y = "Percentage of participants",
fill = "Time point") +
theme_personal +
scale_fill_manual(
values = COPINGpalette3,
breaks = c("prepan", "retro", "base"),
labels = c("base" = "Baseline", "prepan" = "Prepandemic", "retro" = "Retrospective")
)
violin.gad.sum.retro.base
violin.gad.sum.prepan.retro +
violin.gad.sum.prepan.base +
violin.gad.sum.retro.base +
plot_layout(guides = "collect", widths = c(1,1,1)) +
plot_annotation(tag_levels = "A")
violin.gad.sum.prepan.retro <- dat.long.gad.sum %>%
filter(Time_point != "base") %>%
ggplot(mapping = aes(
x = Full_cohort,
y = gad.sum_score,
fill = Time_point)) +
geom_hline(yintercept = 5, linetype = "dashed", color = "gray") +
geom_hline(yintercept = 10, linetype = "dashed", color = "gray") +
geom_hline(yintercept = 15, linetype = "dashed", color = "gray") +
geom_split_violin(
trim = FALSE,
alpha = 0.5
) +
stat_summary(fun.y = mean,
fun.ymin = function(x) mean(x) - sd(x),
fun.ymax = function(x) mean(x) + sd(x),
geom = "pointrange",
position = position_dodge(width = .25)) +
labs(
x = "GAD7 scores",
y = "Percentage of participants",
fill = "Time point") +
theme_personal +
scale_fill_manual(
values = COPINGpalette3,
breaks = c("prepan", "retro", "base"),
labels = c("base" = "Baseline", "prepan" = "Prepandemic", "retro" = "Retrospective")
)
violin.gad.sum.prepan.retro
violin.gad.sum.prepan.base <- dat.long.gad.sum %>%
filter(Time_point != "retro") %>%
ggplot(mapping = aes(
x = Full_cohort,
y = gad.sum_score,
fill = Time_point)) +
geom_hline(yintercept = 5, linetype = "dashed", color = "gray") +
geom_hline(yintercept = 10, linetype = "dashed", color = "gray") +
geom_hline(yintercept = 15, linetype = "dashed", color = "gray") +
geom_split_violin(
trim = FALSE,
alpha = 0.5
) +
stat_summary(fun.y = mean,
fun.ymin = function(x) mean(x) - sd(x),
fun.ymax = function(x) mean(x) + sd(x),
geom = "pointrange",
position = position_dodge(width = .25)) +
labs(
x = "GAD7 scores",
y = "Percentage of participants",
fill = "Time point") +
theme_personal +
scale_fill_manual(
values = COPINGpalette3,
breaks = c("prepan", "retro", "base"),
labels = c("base" = "Baseline", "prepan" = "Prepandemic", "retro" = "Retrospective")
)
violin.gad.sum.prepan.base
violin.gad.sum.retro.base <- dat.long.gad.sum %>%
filter(Time_point != "prepan") %>%
ggplot(mapping = aes(
x = Full_cohort,
y = gad.sum_score,
fill = Time_point)) +
geom_hline(yintercept = 5, linetype = "dashed", color = "gray") +
geom_hline(yintercept = 10, linetype = "dashed", color = "gray") +
geom_hline(yintercept = 15, linetype = "dashed", color = "gray") +
geom_split_violin(
trim = FALSE,
alpha = 0.5
) +
stat_summary(fun.y = mean,
fun.ymin = function(x) mean(x) - sd(x),
fun.ymax = function(x) mean(x) + sd(x),
geom = "pointrange",
position = position_dodge(width = .25)) +
labs(
x = "GAD7 scores",
y = "Percentage of participants",
fill = "Time point") +
theme_personal +
scale_fill_manual(
values = COPINGpalette3,
breaks = c("prepan", "retro", "base"),
labels = c("base" = "Baseline", "prepan" = "Prepandemic", "retro" = "Retrospective")
)
violin.gad.sum.retro.base
violin.gad.sum.prepan.retro +
violin.gad.sum.prepan.base +
violin.gad.sum.retro.base +
plot_layout(guides = "collect", widths = c(1,1,1)) +
plot_annotation(tag_levels = "A")
head(+
coord_flip())
head(+
coord_flip())
head(dat.long.gad.sum)
interaction(dat.long.gad.sum$Sample, dat.long.gad.sum$Time_point)
dat.long.gad.sum <- dat %>%
gather(
key = "Time_point_raw",
value = "gad.sum_score",
all_of(gad.sum_score_cols)) %>%
select(
ID,
Sample,
Gender_collapsed,
Ethnicity_collapsed,
Disorder_hierarchical,
Time_point_raw,
gad.sum_score
) %>%
mutate(Time_point = str_replace(Time_point_raw, "gad.sum_score_", "")) %>%
select(-Time_point_raw) %>%
add_column(Full_cohort = as.factor("Full cohort")) %>%
mutate(Time_point_dup = Time_point)
head(dat.long.gad.sum)
interaction(dat.long.gad.sum$Time_point_dup, dat.long.gad.sum$Time_point)
dim(dat.long.gad.sum)
